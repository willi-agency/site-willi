---
import type { HeroContent } from 'src/schemas/hero';
import { Icon } from 'astro-icon/components';

const { roi, analysis, sales, chartBars } = Astro.props as { 
  roi: HeroContent['roi'],
  analysis: HeroContent['analysis'],
  sales: HeroContent['sales'],
  chartBars: HeroContent['chartBars'],
};
---
<div class={`relative hidden md:flex items-center justify-center h-auto p-8 max-h-8/12 min-h-[350px]`}>
  <!-- Card principal -->
  <div class="w-full max-w-10/12 p-4 md:p-8 bg-white rounded-4xl shadow-2xl">
    <div>
      <span class="text-sm font-medium text-gray-600">{roi.label}</span>
      <div class="text-[2rem] md:text-3xl font-bold text-secondary-700">{roi.value}</div>
    </div>
    <div class="mt-4 flex items-end justify-center h-40 md:h-64 gap-2">
      {chartBars.map((bar) => (
        <div 
          class={`rounded-lg w-full max-w-14 transition-all duration-300 ${bar.height} ${bar.color}`} 
        ></div>
      ))}
    </div>
  </div>
  <!-- Card análise -->
  <div class="floating-card animate-float absolute top-0 right-10 z-20 flex items-start">
    <div class="bg-white rounded-2xl shadow-2xl px-4 py-3">
      <div class="mb-1">
        <Icon name={analysis.icon} />
      </div>
      <div class="text-xs text-gray-500">{analysis.label}</div>
      <div class="text-base md:text-lg text-primary-700 font-bold">{analysis.value}</div>
    </div>
  </div>
  <!-- Card vendas -->
  <div class="floating-card animate-float-reverse delay-1s absolute left-10 bottom-0 z-20 flex items-end">
    <div class="bg-white rounded-2xl shadow-2xl px-4 py-3">
      <div class="text-xs text-gray-500">{sales.label}</div>
      <div class="text-lg text-secondary-800 font-bold">{sales.value}</div>
    </div>
  </div>
  <!-- Utilitários para animação -->
  <style>
    @layer utilities {
      .animate-float {animation: floatY 3.5s ease-in-out infinite;}
      .animate-float-reverse {animation: floatY 3.5s ease-in-out infinite reverse;}
      .delay-1s {animation-delay: 1.25s;}
      @keyframes floatY {0%,100%{transform:translateY(0);}50%{transform:translateY(-12px);}}
    }
  </style>
</div>